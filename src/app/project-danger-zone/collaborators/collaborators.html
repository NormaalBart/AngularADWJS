<div *ngIf="currentProject$ | async as currentProject"
    class="p-4 rounded-lg shadow-lg border-2 border-gray-500 bg-gray-100 m-2">
    <h2 class="text-lg font-semibold text-black">{{'dangerzone.collaborators.title' | translate}}</h2>

    <div *ngFor="let user of users$ | async">
        <p>
            <span *ngIf="user.id === currentProject.ownerId">
                <i class="fas fa-crown" aria-hidden="true"></i>
            </span>
            {{ user.displayName}} ({{ user.email }})
        </p>
    </div>

    <div class="mt-4">
        <form [formGroup]="inviteForm" (ngSubmit)="inviteUser(currentProject)">
            <label for="email" class="block text-gray-700">{{'dangerzone.collaborators.invite-by-email' |
                translate}}</label>
            <input formControlName="email" id="email" type="email" class="mt-1 block w-full border rounded-md p-2"
                placeholder="{{'dangerzone.collaborators.email-placeholder' | translate}}">
            <app-loadingbutton [buttonText]="'dangerzone.collaborators.invite-button'"
                [loadingText]="'dangerzone.collaborators.invite-button'" [form]="inviteForm"
                [submitForm]="inviteUser.bind(this, currentProject)" />
        </form>
    </div>
</div>